<?php

{% block use_statements %}
use Symfony\Component\Routing\RouteCollection;
use Symfony\Component\Routing\Route;
{% endblock use_statements %}

{% block definition %}
$collection = new RouteCollection();
{% endblock definition %}

{% block body %}
{% if 'index' in actions %}
$collection->add('{{ route_name_prefix }}_root', new Route('/', array(
    '_controller' => 'FrameworkBundle:Redirect:redirect',
    'route'       => '{{ route_name_prefix }}',
    'permanent'   => true,
)));

$collection->add('{{ route_name_prefix }}', new Route('/list/{page}/{search}', array(
    '_controller' => '{{ bundle }}:{{ entity }}:index',
    'page'        => 1,
    'search'        => "",
)));
{% endif %}

{% if 'show' in actions %}
$collection->add('{{ route_name_prefix }}_show', new Route('/{id}/show', array(
    '_controller' => '{{ bundle }}:{{ entity }}:show',
)));
{% endif %}

{% if 'new' in actions %}
$collection->add('{{ route_name_prefix }}_new', new Route('/new', array(
    '_controller' => '{{ bundle }}:{{ entity }}:new',
)));

$collection->add('{{ route_name_prefix }}_create', new Route(
    '/create',
    array('_controller' => '{{ bundle }}:{{ entity }}:create'),
    array('methods' => 'post')
));
{% endif %}

{% if 'edit' in actions %}
$collection->add('{{ route_name_prefix }}_edit', new Route('/{id}/edit', array(
    '_controller' => '{{ bundle }}:{{ entity }}:edit',
)));

$collection->add('{{ route_name_prefix }}_update', new Route(
    '/{id}/update',
    array('_controller' => '{{ bundle }}:{{ entity }}:update'),
    array('methods' => 'post|put')
));
{% endif %}

{% if 'delete' in actions %}
$collection->add('{{ route_name_prefix }}_delete', new Route(
    '/{id}/delete',
    array('_controller' => '{{ bundle }}:{{ entity }}:delete')
));
{% endif %}

$collection->add('{{ route_name_prefix }}_search', new Route(
    '/search',
    array('_controller' => '{{ bundle }}:{{ entity }}:search'),
    array('methods' => 'post')
));
{% endblock body %}

{% block return %}
return $collection;
{% endblock return %}
